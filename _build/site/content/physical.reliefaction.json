{"version":2,"kind":"Notebook","sha256":"ef01d72ee0eae19f1a6902d7d54b1d283078439e48aa8b9c6aff3293dc137e83","slug":"physical.reliefaction","location":"/physical/25-ReliefAction.ipynb","dependencies":[],"frontmatter":{"title":"25-Relief Action","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"authors":[{"nameParsed":{"literal":"Clint Guymon","given":"Clint","family":"Guymon"},"name":"Clint Guymon","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Brigham Young University","given":"Brigham Young","family":"University"},"name":"Brigham Young University","id":"contributors-myst-generated-uid-1"}],"date":"2025-12-25","github":"https://github.com/clint-bg/safetyinjc","keywords":["Process Safety","Chemical Engineering","Risk Assessment"],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/clint-bg/safetyinjc/blob/main/physical/25-ReliefAction.ipynb","thumbnail":"/bf728da0bc747871d99e7f172390da3c.png","thumbnailOptimized":"/bf728da0bc747871d99e7f172390da3c.webp","exports":[{"format":"ipynb","filename":"25-ReliefAction.ipynb","url":"/25-ReliefAction-e486ddcb98f17820de6e7890651dd5e4.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Learning Objectives:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MwTjeVIN7Y"}],"key":"QSri2tSwbY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Use orifice flow estimates in mass and energy balance calculations","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"xAZjuTDkNK"}],"key":"O5eC7RwpEh"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Estimate vent sizing for deflagrations","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PrBuOjaKM0"}],"key":"Y3vtK0Qpy4"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Gain experience with mass and energy balance principles","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"W71k1MAcCm"}],"key":"rIHnoVCTn1"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Review relief requirements for fire scenarios","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bXk94F35EN"}],"key":"EyM7ytDV9N"}],"key":"j554K8bjPl"}],"key":"MOxsfEa173"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Review of MAWP and max accumulation pressure or max overpressure (based on gauge pressure)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LxAK9AWEYx"}],"key":"p4j9PQ3mi0"}],"key":"qFbd0IppfJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Venting for External Fires","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w3IuCepxLq"}],"identifier":"venting-for-external-fires","label":"Venting for External Fires","html_id":"venting-for-external-fires","implicit":true,"key":"zDgfooU4Ql"}],"key":"mk6CVdmLL2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As heat is input to the vessel, the liquid warms and expands and reaches the boiling point. The mass flow of vapor at that point is:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Dnbh3SpsND"}],"key":"bdm7ZXUeJZ"},{"type":"math","value":"Q_m = Q/\\Delta H_{vap}","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>Q</mi><mi>m</mi></msub><mo>=</mo><mi>Q</mi><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">Δ</mi><msub><mi>H</mi><mrow><mi>v</mi><mi>a</mi><mi>p</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">Q_m = Q/\\Delta H_{vap}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mord\">/Δ</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">p</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span></span>","enumerator":"1","key":"fs3rDy1i3M"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"where ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"VpL4NXxV64"},{"type":"inlineMath","value":"Q_m","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>Q</mi><mi>m</mi></msub></mrow><annotation encoding=\"application/x-tex\">Q_m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"tZeCyJnSUn"},{"type":"text","value":" is the mass flow of vapor, ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"eDVv6XjurA"},{"type":"inlineMath","value":"Q","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span></span></span></span>","key":"ILPJZ1VRfv"},{"type":"text","value":" is the heat input (estimated from Eq 10-34 and 10-35 in Crowl and Louvar), and ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"h3A7Br4tvl"},{"type":"inlineMath","value":"\\Delta H_{vap}","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Δ</mi><msub><mi>H</mi><mrow><mi>v</mi><mi>a</mi><mi>p</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\Delta H_{vap}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\">Δ</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">p</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"yz5MLqipEH"},{"type":"text","value":" is the heat of vaporization. The vent area can then be sized based on the mass flow of vapor.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"qUmzIv8rFy"}],"key":"pQd17T2zC6"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"When the liquid is heated it expands according to the thermal expansion coefficient, ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"hZzuGIptXO"},{"type":"inlineMath","value":"\\beta","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span></span></span></span>","key":"ViQIi7A77m"},{"type":"text","value":". The volume of the liquid is:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"FdblHFoKLv"}],"key":"ZatHGtqQf9"},{"type":"math","value":"V = V_0(1+\\beta \\Delta T)","position":{"start":{"line":11,"column":1},"end":{"line":13,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>V</mi><mo>=</mo><msub><mi>V</mi><mn>0</mn></msub><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><mi>β</mi><mi mathvariant=\"normal\">Δ</mi><mi>T</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">V = V_0(1+\\beta \\Delta T)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span><span class=\"mord\">Δ</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span></span></span></span></span>","enumerator":"2","key":"XZQQLw57AQ"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"where ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"PIa2EQDOl7"},{"type":"inlineMath","value":"V_0","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>V</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">V_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"BxJf1DADBB"},{"type":"text","value":" is the initial volume, ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"HzpMUF5MKH"},{"type":"inlineMath","value":"\\beta","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span></span></span></span>","key":"La0eD9mDZF"},{"type":"text","value":" is the thermal expansion coefficient, and ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"EVcy6dHi7Q"},{"type":"inlineMath","value":"\\Delta T","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Δ</mi><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">\\Delta T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Δ</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span>","key":"P1huLnAfMZ"},{"type":"text","value":" is the temperature change. This is found from the definition of the thermal expansion coefficient:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Ln2m77DY4X"}],"key":"TNKjRED447"},{"type":"math","value":"\\beta = \\frac{1}{V_0}\\frac{dV}{dT}","position":{"start":{"line":17,"column":1},"end":{"line":19,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>β</mi><mo>=</mo><mfrac><mn>1</mn><msub><mi>V</mi><mn>0</mn></msub></mfrac><mfrac><mrow><mi>d</mi><mi>V</mi></mrow><mrow><mi>d</mi><mi>T</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\beta = \\frac{1}{V_0}\\frac{dV}{dT}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.2074em;vertical-align:-0.836em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3214em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.836em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>","enumerator":"3","key":"QySRdCqxkc"}],"key":"NmsecoBD8F"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Orifice Flow, Mass and Energy Balances with Reaction","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"A4NXSFwfZL"}],"identifier":"orifice-flow-mass-and-energy-balances-with-reaction","label":"Orifice Flow, Mass and Energy Balances with Reaction","html_id":"orifice-flow-mass-and-energy-balances-with-reaction","implicit":true,"key":"mZ8mxkaBCH"}],"key":"r6kaQk8tko"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy.integrate import odeint","visibility":"show","key":"mbYFI5VvUw"},{"type":"output","id":"W83HyCUylIZE63xCSZ3qb","data":[],"visibility":"show","key":"I1bABgD9UE"}],"visibility":"hide","key":"brljV3TRzy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"First Example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WNru3egn6v"}],"identifier":"first-example","label":"First Example","html_id":"first-example","implicit":true,"key":"h93zLK5mFA"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Consider a 20L sphere where the methane is combusted with at least as much air as is stoichiometrically required. The combustion is complete and the products are:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WMKMjmEbOi"}],"key":"BTUiVjuAh6"},{"type":"math","value":"CH_4 + 2O_2 \\rightarrow CO_2 + 2H_2O","position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>C</mi><msub><mi>H</mi><mn>4</mn></msub><mo>+</mo><mn>2</mn><msub><mi>O</mi><mn>2</mn></msub><mo>→</mo><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub><mo>+</mo><mn>2</mn><msub><mi>H</mi><mn>2</mn></msub><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">CH_4 + 2O_2 \\rightarrow CO_2 + 2H_2O</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\">2</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\">2</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span></span></span></span></span>","enumerator":"4","key":"v497nsfQjq"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Three moles of reactants produce 3 moles of products. At higher temperatures, the water vapor will be in the gas phase and there can be radicals. For the example here, we will assume that the water stays in the vapor phase and that the combustion is complete such that there is no overall change in the number of moles of gas.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"oznxpTIgfU"}],"key":"kAIkZNcZeM"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"What is the final pressure and temperature if there is no heat loss and the reaction rate is constant at 15 moles/sec/m3?","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ZoIQ1hpDOd"}],"key":"bgBoKIsLGr"}],"key":"u7GkzFYCrL"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"lCMVl99I59"}],"key":"NnEqxVvPr4"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Some simplifying assumptions:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"m1wnErrrBC"}],"key":"SuoJ5Dd6DT"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The burn rate is proportional to the total moles not just the moles of methane","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rAuz2Oxghz"}],"key":"r4gg04eD2u"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The burn rate transitions monotonically from it’s highest value to zero instead of a step change","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ZU0OJOwUBV"}],"key":"hcqkI47x4w"}],"key":"WVChlpD8cv"}],"key":"SSqTBNBSqQ"}],"key":"yXEbU0kFPA"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Here is a an image of the notebook thoughts on the scenario and the mass and energy balance:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oyHCUJUAER"}],"key":"H6DTFfKkwF"},{"type":"image","url":"/bf728da0bc747871d99e7f172390da3c.png","width":600,"key":"w9ibzuR4rq","urlSource":"https://github.com/clint-bg/safetyinjc/blob/main/physical/supportfiles/EnergyNoVent.png?raw=trueg","urlOptimized":"/bf728da0bc747871d99e7f172390da3c.webp"}],"key":"DkjSJwB9pN"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The below hidden code cell contains:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xj08DMZGAl"}],"key":"qFV6deeP1O"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"parameters for the 20L sphere and combustion reaction estimate (simplified)","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"dQCLiCSykp"}],"key":"UXGzkXwpWx"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"the sigmoid function for the burn rate (transition from full burn to zero at the end of the burn)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dqEQ9QNXfI"}],"key":"pyzDDjZmir"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"the derivative function to be integrated","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"UWpA0rcOQ7"}],"key":"VArFMVId2C"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"the initial conditions","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"e9S1O4OFCI"}],"key":"sY7sy6V1Tc"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"the integration and solution","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"sgGBbmC3YX"}],"key":"HCcyFDhhMR"}],"key":"aORgTHsNCn"}],"key":"qZo60Z9hki"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"#first scenario with 20 liter sphere with methane and air\n#     assume constant burn rate per total moles\n#     3 moles (CH4 and 2O2) react to yield 3 moles (CO2 and 2H2O) thus dn/dt = in - out + gen = 0\n\nk = 15 #1/sec/m3, estimate of reaction rate of methane and air, assumed constant burn rate\ntburn = 0.1 #seconds, time to burn 20 liters of methane (rough estimate only)\nV = 20/1000 #20 liter sphere to m^3\nDH_rx = 890.4*1000 #J/mol CH4 , heat of combustion\nTinitial = 300 #K, initial temperature of sphere\nPinitial = 85000 #Pa, initial pressure of sphere\nRg = 8.314 #J/mol*K, ideal gas constant\nn = Pinitial*V/(Rg*Tinitial) #moles of gas in sphere\nCv = 5/2*Rg #J/mol*K, heat capacity at constant volume (estimate for gases)\ngamma = 1.4 #ratio of specific heats (estimate)\n#energy balance: d(nU)/dt = gen = kV DH_rx \n\ndef sigmoid(x, t_switch): #at t_switch, the sigmoid function will be 0.67\n    return 1/(1+np.exp(-5.708/t_switch*x+5))\n\ndef derivatives(var, time):\n    T = var\n    dTdt = n*k*V*DH_rx/(n*Cv)*(1-sigmoid(time, tburn))\n    return dTdt\n\ntime = np.linspace(0, 0.25, 1000)\nT = odeint(derivatives, Tinitial, time).T[0]\nP = n*Rg*T/V\n\n#plot temperature and pressure in two plots side by side\nfig, ax = plt.subplots(1, 2, figsize=(8, 4))\nax[0].plot(time, T)\nax[0].set_xlabel('Time (s)')\nax[0].set_ylabel('Temperature (K)')\nax[1].plot(time, P/1e5 - Pinitial/1e5)\nax[1].set_xlabel('Time (s)')\nax[1].set_ylabel('Pressure (barg)')\nplt.tight_layout()\nplt.show()\n\n","visibility":"show","key":"eMpbV26QFL"},{"type":"output","id":"XFFGoBu2-Jns970hvMKVT","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b530f4d32177a19be6a83dad04940000","path":"/b530f4d32177a19be6a83dad04940000.png"},"text/plain":{"content":"<Figure size 800x400 with 2 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"KPnT7zPVGt"}],"visibility":"hide","key":"ZYAydCyA1w"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"See this reference for more detailed information on combustion of methane in a 20L and larger spheres: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tpRri0YigX"},{"type":"cite","url":"https://doi.org/10.1016/j.jlp.2017.02.022","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Mittal (2017)","key":"gPhagzZ5bM"}],"kind":"narrative","label":"Mittal_2017","identifier":"https://doi.org/10.1016/j.jlp.2017.02.022","enumerator":"1","key":"FInVsgRP8J"}],"key":"KaWo9lSUH1"}],"key":"Wi23oyBkd2"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Second Example (Follow-on from First Example)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ziiRJFcwNi"}],"identifier":"second-example-follow-on-from-first-example","label":"Second Example (Follow-on from First Example)","html_id":"second-example-follow-on-from-first-example","implicit":true,"key":"ALfc47qZJY"}],"key":"NCto6bNCeU"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Consider the same conditions as the first example but what burst disk size would be required to prevent the pressure from exceeding 1 barg?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iAhzVIY88k"}],"key":"zBevNFYdoo"}],"key":"wKDMjH5ZhN"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"J8WlVYVF9u"}],"key":"ou1T6nrysB"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Some simplifying assumptions:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"J0YsXBGins"}],"key":"KoD802Isto"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The above assumptions apply","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jlN3n8K4kR"}],"key":"lhTkukEVKd"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Assume that the area of the burst disk transitions from closed to open in a s-curve fashion once the burst pressure of the disk is reached with a parameter of ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"novuxfJFEb"},{"type":"inlineMath","value":"t_{open}","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>o</mi><mi>p</mi><mi>e</mi><mi>n</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{open}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9012em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">p</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>","key":"KOffDGznhx"},{"type":"text","value":" equal to the time that the burst disk is 67% open. This is also applied to the burn rate of the fuel.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"G2q4aZksGC"}],"key":"n2SgWeoUUs"}],"key":"GuSOBxIBom"}],"key":"zGyhisYvfn"}],"key":"UuzZ1NrUYC"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"You can download a pdf of the in-class notes here (including both the instructor and in-class version): ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ex1LtR13Qo"},{"type":"link","url":"https://github.com/clint-bg/safetyinjc/blob/main/physical/supportfiles/EnergyMassVent.pdf","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"physical​/supportfiles​/EnergyMassVent​.pdf","key":"ixXqYaBLT8"}],"urlSource":"https://github.com/clint-bg/safetyinjc/blob/main/physical/supportfiles/EnergyMassVent.pdf","data":{"kind":"file","org":"clint-bg","repo":"safetyinjc","reference":"main","file":"physical/supportfiles/EnergyMassVent.pdf","raw":"https://raw.githubusercontent.com/clint-bg/safetyinjc/main/physical/supportfiles/EnergyMassVent.pdf"},"internal":false,"protocol":"github","key":"udo3TUwOal"}],"key":"gfIGHorkj5"}],"key":"Ovw3fETUfD"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Additional parameters for the venting of the volume once the pressure reaches the burst pressure of the disk.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CTVuZo3dEv"}],"key":"ik3UPslRHZ"}],"key":"D0dlZserRd"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"#Burst disk function\nt_open = 0.1 #seconds, time to open burst disk to 67%\nPdisk = 2e5 #Pa, burst disk pressure, 1barg\nArea_f = np.pi/4*(0.08)**2 #m^2, area of burst disk\nbarea = lambda t: Area_f*sigmoid(t,t_open) #sigmoid function to open burst disk\nCd = 0.95 #discharge coefficient","key":"jHWQtEX9lr"},{"type":"output","id":"KtOfqvpwRrpMzOIKVgbfe","data":[],"key":"zEIW7fizJt"}],"key":"ayKSmj2JAQ"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Warning","key":"cC52FX6eva"}],"key":"LIU4pRT0s7"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The below code will give non-realistic answers if the vent time is faster than the burn time. Vent time meaning the pressure is relieved prior to the burn completing.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"y1aTkCFrhJ"}],"key":"yNpGP1ICzN"}],"key":"Jb4LV45LBu"}],"key":"juyvgDYw7J"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The area of the burst disk changes with time as it opens and moves out of the way. That transition is also estimated with a sigmoid function (it could also be done with using physics where F = P/A = m*a  and you can step through time as the burst disk moves). The area of the burst disk is shown in the below figure.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"d88MdKky0I"}],"key":"woOMbxpKff"}],"key":"GTcqDRptWd"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"#plot burst disk area\nplt.plot(time, barea(time))\nplt.xlabel('Time (s)')\nplt.ylabel('Burst disk area (m2)')\nplt.grid()\nplt.show()","visibility":"hide","key":"qiF2Lk59Eh"},{"type":"output","id":"HlIO6opKbQarVyh9IUcWt","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"733f3a37c22790ebc65f4c9a28815e62","path":"/733f3a37c22790ebc65f4c9a28815e62.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"ZLkXu9rxWi"}],"visibility":"show","key":"dAqFujvufG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The below hidden code cell contains the moles of gas flowing out of the vent. The flow is based on the general equations discussed in the previous lecture. There’s also an if statement such that if the pressure drops below the atmospheric value, there’s flow of gas into the container from the atmosphere.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XdsPVPjPjA"}],"key":"THzfAjIdUM"}],"key":"kXlFbQyYkq"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"def nout(T,P,A):\n    if P>Pinitial:\n        ratio = P/Pinitial\n        Pdrive = P\n    else:\n        ratio = Pinitial/P\n        Pdrive = -Pinitial\n    Ma = min(1,np.sqrt(2/(gamma-1)*((ratio)**((gamma-1)/gamma)-1)))\n    Mw = 0.03 #kg/mol, molecular weight of gases estimate\n    flow = Pdrive*A*Cd*Ma*np.sqrt(gamma/(Rg*T*Mw))*(1+(gamma-1)/2*Ma**2)**((gamma+1)/(2-2*gamma))\n    return flow\n    ","visibility":"show","key":"S52I82xbhM"},{"type":"output","id":"2dmqSi88ebkwv0f5aqQW0","data":[],"visibility":"show","key":"D1JJXVR9ft"}],"visibility":"hide","key":"wtETJEbbaB"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The below code cell shows the derivatives for moles and temperature for the venting. There’s also if statements to account for the changing conditions when the burst disk ruptures and the relative sizes of the internal and external pressures.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zGd7jtSS4U"}],"key":"iBaJuxzpiY"}],"key":"EZYt4bFsxj"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"#dndt = in - out + gen = - nout (burst disk)\n#dnUdt = in - out + gen = - nout (burst disk)*H + Hrxn*r*V\ntime_offset = 0.; flag = 0\ndef derivatives(var, t):\n    global time_offset, flag\n    n,T = var\n    P = n*Rg*T/V\n    dTdt = n*k*V*DH_rx/(n*Cv)*(1-sigmoid(t,tburn))\n    if P<Pdisk and flag == 0: #disk intact\n        time_offset = t #time_offset is the time when the disk breaks and used for the sigmoid function\n        dndt = 0\n    else:\n        if flag == 0: #disk broken\n            flag = 1\n        dndt = -nout(T,P,barea(t-time_offset)) #flow out through the vent\n        if P>Pinitial: #case when air is pushed out\n            dTdt = dTdt + dndt*Rg*T/(n*Cv)\n        else: #case when air is sucked in (estimate of enthapy change)\n            dTdt = dTdt + dndt*Rg*Tinitial/(n*Cv)\n    return dndt, dTdt","visibility":"show","key":"ZHEntpU7Pl"},{"type":"output","id":"SZ4UAqFOEnlGwktRlG-pX","data":[],"visibility":"show","key":"rMSSP1yWjN"}],"visibility":"hide","key":"tOXLZfFklu"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The below code cell shows the integration and solution for the venting of the volume once the pressure reaches the burst pressure of the disk.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YdyyT2CL05"}],"key":"e6CQKQVbzr"}],"key":"Al8cmRTFxS"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"#Integration, initial value problem\ninit = [n, Tinitial]\nsol = odeint(derivatives, init, time).T\n[ns,Ts] = sol\nPs = ns*Rg*Ts/V","visibility":"show","key":"sppt4wxeHD"},{"type":"output","id":"qddtdKL519KZ9KksfiNh7","data":[],"visibility":"show","key":"yycNWbo5K6"}],"visibility":"hide","key":"lGURNYqt4m"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"#plot temperature and pressure in two plots side by side\nfig, ax = plt.subplots(3, 1, figsize=(6, 8))\nax[0].plot(time, Ts)\nax[0].set_xlabel('Time (s)')\nax[0].set_ylabel('Temperature (K)')\nax[0].grid(True)\nax[1].plot(time, Ps/1e5 - Pinitial/1e5)\nax[1].set_xlabel('Time (s)')\nax[1].set_ylabel('Pressure (barg)')\nax[1].grid(True)\nax[2].plot(time, ns)\nax[2].set_xlabel('Time (s)')\nax[2].set_ylabel('Moles (mol)')\nax[2].grid(True)\nplt.tight_layout()\nplt.show()","visibility":"hide","key":"hRBpZ3hbgB"},{"type":"output","id":"OlwN0xOXX9HzIJleh0gw2","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"88e98766bc03c325246bef66d6594f93","path":"/88e98766bc03c325246bef66d6594f93.png"},"text/plain":{"content":"<Figure size 600x800 with 3 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"azYhp4GqPm"}],"visibility":"show","key":"MR0PQtXSmm"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Notice how the pressure exceeds the burst pressure of the disk substantially as the energy from the burning is larger than that that can be vented. The accumulation and overpressure discussed in the previous lectures can be found knowing the MAWP of the vessel and the set pressure of the disk.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xEfcauALWE"}],"key":"FTR6TL7ZYu"}],"key":"QHRRV2ymsM"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"Am8BsLE1B9"}],"key":"LUgXsbpHH1"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The above example is an integrated solution to the approximate behavior of the burning and of the opening of the vent. Actual vent sizing for explosions can be more nuanced and is not covered in detail here. This is a simplified example to demonstrate some fundamental principles of kinetics, thermodynamics, and numerical methods with many simplifying assumptions.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"iKX9lYZ2IR"}],"key":"CTrgh2JK6H"}],"key":"hkq5VWFsYZ"}],"key":"YfpiLujDLL"}],"key":"ctVBarelFU"},"references":{"cite":{"order":["Mittal_2017"],"data":{"Mittal_2017":{"label":"Mittal_2017","enumerator":"1","doi":"10.1016/j.jlp.2017.02.022","html":"Mittal, M. (2017). Explosion pressure measurement of methane-air mixtures in different sizes of confinement. <i>Journal of Loss Prevention in the Process Industries</i>, <i>46</i>, 200–208. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1016/j.jlp.2017.02.022\">10.1016/j.jlp.2017.02.022</a>","url":"https://doi.org/10.1016/j.jlp.2017.02.022"}}}}}